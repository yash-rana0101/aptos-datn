(()=>{var e={};e.id=797,e.ids=[797],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},20270:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(4856),s(81435),s(35866);var r=s(23191),a=s(88716),l=s(37922),i=s.n(l),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4856)),"C:\\Users\\premr\\OneDrive\\Documents\\Projects\\aptos-datn\\src\\app\\search\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,81435)),"C:\\Users\\premr\\OneDrive\\Documents\\Projects\\aptos-datn\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\premr\\OneDrive\\Documents\\Projects\\aptos-datn\\src\\app\\search\\page.tsx"],x="/search/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},83890:(e,t,s)=>{Promise.resolve().then(s.bind(s,73071))},71821:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},73071:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(10326),a=s(17577),l=s(29752),i=s(91664),n=s(41190),c=s(38443),o=s(53471),d=s(39105),x=s(77506),p=s(88307),h=s(61521),m=s(94019),u=s(17069),g=s(48998),j=s(71821),v=s(62881);let b=(0,v.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),y=(0,v.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);function f(){let[e,t]=(0,a.useState)(""),[s,v]=(0,a.useState)("grid"),[f,N]=(0,a.useState)(!1),[w,k]=(0,a.useState)({category:"all",priceRange:"all",condition:"all",sortBy:"relevance"}),{data:C,isLoading:q,error:P}=(0,d.BX)(),D=(0,a.useMemo)(()=>{if(!C)return[];let t=[...C];if(e.trim()){let s=e.toLowerCase();t=t.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.category.toLowerCase().includes(s))}if("all"!==w.category&&(t=t.filter(e=>e.category.toLowerCase()===w.category.toLowerCase())),"all"!==w.priceRange){let e=w.priceRange.split("-"),s=0,r=1/0;e[0]&&(s=1e8*parseInt(e[0])),e[1]&&(r="1000+"===e[1]?1/0:1e8*parseInt(e[1])),t=t.filter(e=>e.price>=s&&(r===1/0||e.price<=r))}switch(t=t.filter(e=>e.isAvailable),w.sortBy){case"price-low":t.sort((e,t)=>e.price-t.price);break;case"price-high":t.sort((e,t)=>t.price-e.price);break;case"newest":t.sort((e,t)=>{let s=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-s});break;case"popular":t.sort((e,t)=>e.quantity-t.quantity)}return t},[C,e,w]);return r.jsx("div",{className:"min-h-screen bg-black py-8 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Search Products"}),r.jsx("p",{className:"text-gray-400",children:"Find the perfect item from our marketplace"})]}),r.jsx(l.Zb,{className:"glass-neo p-4 border-gray-800 mb-6",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[r.jsx(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(n.I,{type:"text",placeholder:"Search for products...",value:e,onChange:e=>t(e.target.value),className:"pl-11 bg-black/50 border-gray-700 text-white placeholder:text-gray-500 h-12"})]}),(0,r.jsxs)(i.z,{onClick:()=>N(!f),className:"bg-[#C6D870] text-black hover:bg-[#B5C760] h-12 px-6",children:[r.jsx(h.Z,{className:"w-5 h-5 mr-2"}),"Filters"]})]})}),f&&(0,r.jsxs)(l.Zb,{className:"glass-neo p-6 border-gray-800 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filters"}),r.jsx("button",{onClick:()=>N(!1),className:"p-2 rounded-lg glass hover:bg-white/10 text-white",children:r.jsx(m.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-3 block",children:"Category"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["All","Electronics","Fashion","Home","Sports","Books","Toys","Automotive"].map(e=>r.jsx(c.C,{variant:w.category===e.toLowerCase()?"lime":"outline",className:"cursor-pointer",onClick:()=>k({...w,category:e.toLowerCase()}),children:e},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-3 block",children:"Price Range"}),(0,r.jsxs)("select",{value:w.priceRange,onChange:e=>k({...w,priceRange:e.target.value}),className:"w-full px-3 py-2 bg-black/50 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#C6D870]",children:[r.jsx("option",{value:"all",children:"All Prices"}),r.jsx("option",{value:"0-100",children:"0 - 100 DATN"}),r.jsx("option",{value:"100-500",children:"100 - 500 DATN"}),r.jsx("option",{value:"500-1000",children:"500 - 1000 DATN"}),r.jsx("option",{value:"1000+",children:"1000+ DATN"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-3 block",children:"Condition"}),(0,r.jsxs)("select",{value:w.condition,onChange:e=>k({...w,condition:e.target.value}),className:"w-full px-3 py-2 bg-black/50 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#C6D870]",children:[r.jsx("option",{value:"all",children:"All Conditions"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"like-new",children:"Like New"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"fair",children:"Fair"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-3 block",children:"Sort By"}),(0,r.jsxs)("select",{value:w.sortBy,onChange:e=>k({...w,sortBy:e.target.value}),className:"w-full px-3 py-2 bg-black/50 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#C6D870]",children:[r.jsx("option",{value:"relevance",children:"Relevance"}),r.jsx("option",{value:"price-low",children:"Price: Low to High"}),r.jsx("option",{value:"price-high",children:"Price: High to Low"}),r.jsx("option",{value:"newest",children:"Newest First"}),r.jsx("option",{value:"popular",children:"Most Popular"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[r.jsx(i.z,{onClick:()=>k({category:"all",priceRange:"all",condition:"all",sortBy:"relevance"}),variant:"outline",className:"border-gray-700 text-white hover:bg-white/5",children:"Reset Filters"}),r.jsx(i.z,{className:"bg-[#C6D870] text-black hover:bg-[#B5C760]",children:"Apply Filters"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("p",{className:"text-white",children:[r.jsx("span",{className:"font-semibold",children:D.length}),r.jsx("span",{className:"text-gray-400 ml-1",children:"results found"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,r.jsxs)(i.z,{size:"sm",variant:"outline",className:"border-gray-700 text-white hover:bg-white/5",children:[r.jsx(u.Z,{className:"w-4 h-4 mr-1"}),"Trending"]}),(0,r.jsxs)(i.z,{size:"sm",variant:"outline",className:"border-gray-700 text-white hover:bg-white/5",children:[r.jsx(g.Z,{className:"w-4 h-4 mr-1"}),"New"]}),(0,r.jsxs)(i.z,{size:"sm",variant:"outline",className:"border-gray-700 text-white hover:bg-white/5",children:[r.jsx(j.Z,{className:"w-4 h-4 mr-1"}),"Best Price"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 glass rounded-lg p-1",children:[r.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded ${"grid"===s?"bg-[#C6D870] text-black":"text-gray-400 hover:text-white"}`,children:r.jsx(b,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded ${"list"===s?"bg-[#C6D870] text-black":"text-gray-400 hover:text-white"}`,children:r.jsx(y,{className:"w-5 h-5"})})]})]}),q?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[r.jsx(x.Z,{className:"w-12 h-12 text-[#C6D870] animate-spin mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading products from blockchain..."})]}):P?(0,r.jsxs)(l.Zb,{className:"glass-neo p-12 border-gray-800 text-center",children:[r.jsx("p",{className:"text-red-400 mb-2",children:"Error loading products"}),r.jsx("p",{className:"text-gray-500 text-sm",children:P.message})]}):C?.length===0?(0,r.jsxs)(l.Zb,{className:"glass-neo p-12 border-gray-800 text-center",children:[r.jsx("p",{className:"text-gray-400 mb-4",children:"No products available yet"}),r.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Products will appear here once sellers list them on the marketplace."}),r.jsx("p",{className:"text-yellow-500/70 text-xs mt-4",children:"⚠️ Note: Product indexing is not yet implemented. Products will be visible after indexer setup."})]}):0===D.length?(0,r.jsxs)(l.Zb,{className:"glass-neo p-12 border-gray-800 text-center",children:[r.jsx("p",{className:"text-gray-400 mb-2",children:"No products match your search"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search query or filters"}),r.jsx(i.z,{onClick:()=>{t(""),k({category:"all",priceRange:"all",condition:"all",sortBy:"relevance"})},variant:"outline",className:"mt-4 border-gray-700 text-white hover:bg-white/5",children:"Clear All Filters"})]}):r.jsx("div",{className:`grid gap-6 ${"grid"===s?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:D.map(e=>r.jsx(o.Z,{id:e.id,title:e.name,description:e.description,price:(e.price/1e8).toFixed(4),image:e.images[0]||"/product-placeholder.jpg",category:e.category,seller:e.user.name||"Seller",status:0===e.quantity?"sold":"active",variant:"list"===s?"compact":"default"},e.id))}),D.length>20&&r.jsx("div",{className:"mt-12 text-center",children:r.jsx(i.z,{size:"lg",className:"bg-[#C6D870] text-black hover:bg-[#B5C760] px-12",disabled:!0,children:"Load More Products (Coming Soon)"})})]})})}},53471:(e,t,s)=>{"use strict";s.d(t,{I:()=>d,Z:()=>x});var r=s(10326);s(17577);var a=s(90434),l=s(46226),i=s(29752),n=s(38443),c=s(91664),o=s(51223);let d=({id:e,title:t,description:s,price:d,image:x,category:p,seller:h,status:m="active",views:u=0,favorites:g=0,className:j,variant:v="default"})=>{let b="compact"===v;return r.jsx(i.Zb,{variant:"primary",hover:"glow",padding:"none",className:(0,o.cn)("group overflow-hidden","featured"===v&&"border-2 border-[#C6D870]",j),children:(0,r.jsxs)(a.default,{href:`/product/${e}`,children:[(0,r.jsxs)("div",{className:(0,o.cn)("relative overflow-hidden bg-gray-100",b?"h-40":"h-56"),children:[r.jsx(l.default,{src:x,alt:t,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110"}),"active"!==m&&r.jsx("div",{className:"absolute top-2 left-2",children:r.jsx(n.C,{variant:"sold"===m?"error":"warning",children:"sold"===m?"Sold":"Pending"})}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(n.C,{variant:"lime",className:"capitalize",children:p})}),r.jsx("button",{onClick:e=>{e.preventDefault()},className:"absolute bottom-2 right-2 p-2 rounded-full bg-white/90 hover:bg-white transition-all duration-200 opacity-0 group-hover:opacity-100",children:r.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,r.jsxs)("div",{className:(0,o.cn)("p-4",b&&"p-3"),children:[r.jsx("h3",{className:(0,o.cn)("font-semibold text-black dark:text-white line-clamp-1 group-hover:text-[#C6D870] transition-colors",b?"text-sm":"text-lg"),children:t}),!b&&r.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:s}),(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-[#C6D870] flex items-center justify-center text-xs font-semibold text-black",children:h.slice(0,2).toUpperCase()}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:[h.slice(0,6),"...",h.slice(-4)]})]}),(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),r.jsx("span",{children:u})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),r.jsx("span",{children:g})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Price"}),(0,r.jsxs)("p",{className:(0,o.cn)("font-bold text-black dark:text-white",b?"text-base":"text-xl"),children:[d," ",r.jsx("span",{className:"text-sm font-normal text-[#C6D870]",children:"DATN"})]})]}),"active"===m&&r.jsx(c.z,{size:b?"sm":"default",className:"bg-[#C6D870] text-black hover:bg-[#B5C760]",onClick:e=>{e.preventDefault()},children:"Buy Now"})]})]})]})})},x=d},4856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\premr\OneDrive\Documents\Projects\aptos-datn\src\app\search\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,730,621,226,216,940],()=>s(20270));module.exports=r})();