"use strict";exports.id=940,exports.ids=[940],exports.modules={48998:(e,r,t)=>{t.d(r,{Z:()=>l});let l=(0,t(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},61521:(e,r,t)=>{t.d(r,{Z:()=>l});let l=(0,t(62881).Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]])},17069:(e,r,t)=>{t.d(r,{Z:()=>l});let l=(0,t(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},69882:(e,r,t)=>{t.d(r,{Dg:()=>c,Ir:()=>i,mC:()=>u,nM:()=>s,ry:()=>n,wv:()=>o});var l=t(87107),a=t(84644);let n=e=>{let{title:r,description:t,price:a,quantity:n,imageUrls:s,category:i}=e;return{data:{function:`${l.VB.PRODUCT}::create_product`,functionArguments:[r,t,a,n,s,i]},options:l.OI}},s=e=>{let{productAddress:r,title:t,description:a,price:n,imageUrls:s,category:i}=e;return{data:{function:`${l.VB.PRODUCT}::update_product`,functionArguments:[r,t||"",a||"",n||0,s||[],i||""]},options:l.OI}},i=e=>({data:{function:`${l.VB.PRODUCT}::delete_product`,functionArguments:[e]},options:l.OI}),o=async e=>{try{let r=await a.lV.view({payload:{function:`${l.VB.PRODUCT}::get_product`,functionArguments:[e]}});if(!r||0===r.length)return null;let[t,n,s,i,o,u,c,d,y,p,m,g]=r;return{productAddress:e,title:t,description:n,price:parseInt(s),quantity:parseInt(i),soldQuantity:parseInt(o),imageUrls:u,category:c,isAvailable:d,isDeleted:y,seller:p,createdAt:parseInt(m),updatedAt:parseInt(g)}}catch(e){return console.error("Error fetching product:",e),null}},u=async e=>{try{return(await a.lV.view({payload:{function:`${l.VB.PRODUCT}::get_seller_products`,functionArguments:[e]}}))[0]}catch(e){return console.error("Error fetching seller products:",e),[]}},c=async()=>{try{return(await a.lV.view({payload:{function:`${l.VB.PRODUCT}::get_all_products`,functionArguments:[]}}))[0]}catch(e){return console.error("Error fetching all products:",e),[]}}},39105:(e,r,t)=>{t.d(r,{BX:()=>d,HF:()=>g,HY:()=>y,gl:()=>p,iB:()=>c,vO:()=>m});var l=t(20108),a=t(44976),n=t(10119),s=t(57969),i=t(85999),o=t(69882);let u={all:["products"],lists:()=>[...u.all,"list"],detail:e=>[...u.all,"detail",e],sellerProducts:e=>[...u.all,"seller",e],availability:e=>[...u.all,"availability",e],stock:(e,r)=>[...u.all,"stock",e,r],price:e=>[...u.all,"price",e]},c=(e,r=!0)=>(0,l.a)({queryKey:u.detail(e),queryFn:()=>o.wv(e),enabled:r&&!!e,staleTime:12e4}),d=()=>(0,l.a)({queryKey:u.lists(),queryFn:async()=>{try{let e=await o.Dg();if(!e||0===e.length)return[];let r=e.map(e=>o.wv(e));return(await Promise.all(r)).filter(e=>null!==e&&!e.isDeleted&&e.isAvailable).map(e=>({id:e.productAddress,name:e.title,description:e.description,price:e.price,images:e.imageUrls,category:e.category,isAvailable:e.isAvailable,quantity:e.quantity,createdAt:e.createdAt.toString(),updatedAt:e.updatedAt.toString(),user:{name:"Seller",role:"seller"}}))}catch(e){return console.error("Error fetching all products:",e),[]}},staleTime:3e5}),y=e=>{let{account:r}=(0,s.Os)(),t=e||r?.address?.toString();return(0,l.a)({queryKey:u.sellerProducts(t||""),queryFn:()=>o.mC(t),enabled:!!t,staleTime:3e5})},p=()=>{let e=(0,a.NL)(),{account:r,signAndSubmitTransaction:t}=(0,s.Os)();return(0,n.D)({mutationFn:async e=>{if(!r)throw Error("Wallet not connected");let l=o.ry(e);return await t(l)},onSuccess:()=>{r?.address&&e.invalidateQueries({queryKey:u.sellerProducts(r.address.toString())}),e.invalidateQueries({queryKey:u.lists()}),i.Am.success("Product created successfully!")},onError:e=>{i.Am.error(e.message||"Failed to create product"),console.error("Create product error:",e)}})},m=()=>{let e=(0,a.NL)(),{account:r,signAndSubmitTransaction:t}=(0,s.Os)();return(0,n.D)({mutationFn:async e=>{if(!r)throw Error("Wallet not connected");let l=o.nM(e);return await t(l)},onSuccess:(t,l)=>{e.invalidateQueries({queryKey:u.detail(l.productAddress)}),r?.address&&e.invalidateQueries({queryKey:u.sellerProducts(r.address.toString())}),i.Am.success("Product updated successfully!")},onError:e=>{i.Am.error(e.message||"Failed to update product"),console.error("Update product error:",e)}})},g=()=>{let e=(0,a.NL)(),{account:r,signAndSubmitTransaction:t}=(0,s.Os)();return(0,n.D)({mutationFn:async e=>{if(!r)throw Error("Wallet not connected");let l=o.Ir(e);return await t(l)},onSuccess:(t,l)=>{e.invalidateQueries({queryKey:u.detail(l)}),r?.address&&e.invalidateQueries({queryKey:u.sellerProducts(r.address.toString())}),e.invalidateQueries({queryKey:u.lists()}),i.Am.success("Product deleted successfully!")},onError:e=>{i.Am.error(e.message||"Failed to delete product"),console.error("Delete product error:",e)}})}},73881:(e,r,t)=>{t.r(r),t.d(r,{default:()=>a});var l=t(66621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,l.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};