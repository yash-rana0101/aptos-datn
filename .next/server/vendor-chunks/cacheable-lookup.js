"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/cacheable-lookup";
exports.ids = ["vendor-chunks/cacheable-lookup"];
exports.modules = {

/***/ "(ssr)/./node_modules/cacheable-lookup/source/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/cacheable-lookup/source/index.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises: {\n\t\tResolver: AsyncResolver\n\t},\n\tlookup: dnsLookup\n} = __webpack_require__(/*! dns */ \"dns\");\nconst {promisify} = __webpack_require__(/*! util */ \"util\");\nconst os = __webpack_require__(/*! os */ \"os\");\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\n\nclass CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = promisify(lookup);\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tif (fallbackDuration < 1) {\n\t\t\tthis._fallback = false;\n\t\t} else {\n\t\t\tthis._fallback = true;\n\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\n\t\t\tif (pending) {\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\tconst wrap = async promise => {\n\t\t\ttry {\n\t\t\t\treturn await promise;\n\t\t\t} catch (error) {\n\t\t\t\tif (error.code === 'ENODATA' || error.code === 'ENOTFOUND') {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t};\n\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tthis._resolve4(hostname, ttl),\n\t\t\tthis._resolve6(hostname, ttl)\n\t\t].map(promise => wrap(promise)));\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst entries = await this._dnsLookup(hostname, {\n\t\t\t\tall: true\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tentries,\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch (_) {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._fallback) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n\nmodule.exports = CacheableLookup;\nmodule.exports[\"default\"] = CacheableLookup;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY2FjaGVhYmxlLWxvb2t1cC9zb3VyY2UvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFLEVBQUUsbUJBQU8sQ0FBQyxnQkFBSztBQUNqQixPQUFPLFdBQVcsRUFBRSxtQkFBTyxDQUFDLGtCQUFNO0FBQ2xDLFdBQVcsbUJBQU8sQ0FBQyxjQUFJOztBQUV2QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLFVBQVUsUUFBUTtBQUNsQjtBQUNBOztBQUVBO0FBQ0Esd0RBQXdELFNBQVM7QUFDakU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWCxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsUUFBUTs7QUFFakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jdXN0b20taW5kZXhlci10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy9jYWNoZWFibGUtbG9va3VwL3NvdXJjZS9pbmRleC5qcz9kMTk5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHtcblx0VjRNQVBQRUQsXG5cdEFERFJDT05GSUcsXG5cdEFMTCxcblx0cHJvbWlzZXM6IHtcblx0XHRSZXNvbHZlcjogQXN5bmNSZXNvbHZlclxuXHR9LFxuXHRsb29rdXA6IGRuc0xvb2t1cFxufSA9IHJlcXVpcmUoJ2RucycpO1xuY29uc3Qge3Byb21pc2lmeX0gPSByZXF1aXJlKCd1dGlsJyk7XG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5cbmNvbnN0IGtDYWNoZWFibGVMb29rdXBDcmVhdGVDb25uZWN0aW9uID0gU3ltYm9sKCdjYWNoZWFibGVMb29rdXBDcmVhdGVDb25uZWN0aW9uJyk7XG5jb25zdCBrQ2FjaGVhYmxlTG9va3VwSW5zdGFuY2UgPSBTeW1ib2woJ2NhY2hlYWJsZUxvb2t1cEluc3RhbmNlJyk7XG5jb25zdCBrRXhwaXJlcyA9IFN5bWJvbCgnZXhwaXJlcycpO1xuXG5jb25zdCBzdXBwb3J0c0FMTCA9IHR5cGVvZiBBTEwgPT09ICdudW1iZXInO1xuXG5jb25zdCB2ZXJpZnlBZ2VudCA9IGFnZW50ID0+IHtcblx0aWYgKCEoYWdlbnQgJiYgdHlwZW9mIGFnZW50LmNyZWF0ZUNvbm5lY3Rpb24gPT09ICdmdW5jdGlvbicpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhbiBBZ2VudCBpbnN0YW5jZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQnKTtcblx0fVxufTtcblxuY29uc3QgbWFwNHRvNiA9IGVudHJpZXMgPT4ge1xuXHRmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcblx0XHRpZiAoZW50cnkuZmFtaWx5ID09PSA2KSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRlbnRyeS5hZGRyZXNzID0gYDo6ZmZmZjoke2VudHJ5LmFkZHJlc3N9YDtcblx0XHRlbnRyeS5mYW1pbHkgPSA2O1xuXHR9XG59O1xuXG5jb25zdCBnZXRJZmFjZUluZm8gPSAoKSA9PiB7XG5cdGxldCBoYXM0ID0gZmFsc2U7XG5cdGxldCBoYXM2ID0gZmFsc2U7XG5cblx0Zm9yIChjb25zdCBkZXZpY2Ugb2YgT2JqZWN0LnZhbHVlcyhvcy5uZXR3b3JrSW50ZXJmYWNlcygpKSkge1xuXHRcdGZvciAoY29uc3QgaWZhY2Ugb2YgZGV2aWNlKSB7XG5cdFx0XHRpZiAoaWZhY2UuaW50ZXJuYWwpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZmFjZS5mYW1pbHkgPT09ICdJUHY2Jykge1xuXHRcdFx0XHRoYXM2ID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhczQgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaGFzNCAmJiBoYXM2KSB7XG5cdFx0XHRcdHJldHVybiB7aGFzNCwgaGFzNn07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHtoYXM0LCBoYXM2fTtcbn07XG5cbmNvbnN0IGlzSXRlcmFibGUgPSBtYXAgPT4ge1xuXHRyZXR1cm4gU3ltYm9sLml0ZXJhdG9yIGluIG1hcDtcbn07XG5cbmNvbnN0IHR0bCA9IHt0dGw6IHRydWV9O1xuY29uc3QgYWxsID0ge2FsbDogdHJ1ZX07XG5cbmNsYXNzIENhY2hlYWJsZUxvb2t1cCB7XG5cdGNvbnN0cnVjdG9yKHtcblx0XHRjYWNoZSA9IG5ldyBNYXAoKSxcblx0XHRtYXhUdGwgPSBJbmZpbml0eSxcblx0XHRmYWxsYmFja0R1cmF0aW9uID0gMzYwMCxcblx0XHRlcnJvclR0bCA9IDAuMTUsXG5cdFx0cmVzb2x2ZXIgPSBuZXcgQXN5bmNSZXNvbHZlcigpLFxuXHRcdGxvb2t1cCA9IGRuc0xvb2t1cFxuXHR9ID0ge30pIHtcblx0XHR0aGlzLm1heFR0bCA9IG1heFR0bDtcblx0XHR0aGlzLmVycm9yVHRsID0gZXJyb3JUdGw7XG5cblx0XHR0aGlzLl9jYWNoZSA9IGNhY2hlO1xuXHRcdHRoaXMuX3Jlc29sdmVyID0gcmVzb2x2ZXI7XG5cdFx0dGhpcy5fZG5zTG9va3VwID0gcHJvbWlzaWZ5KGxvb2t1cCk7XG5cblx0XHRpZiAodGhpcy5fcmVzb2x2ZXIgaW5zdGFuY2VvZiBBc3luY1Jlc29sdmVyKSB7XG5cdFx0XHR0aGlzLl9yZXNvbHZlNCA9IHRoaXMuX3Jlc29sdmVyLnJlc29sdmU0LmJpbmQodGhpcy5fcmVzb2x2ZXIpO1xuXHRcdFx0dGhpcy5fcmVzb2x2ZTYgPSB0aGlzLl9yZXNvbHZlci5yZXNvbHZlNi5iaW5kKHRoaXMuX3Jlc29sdmVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcmVzb2x2ZTQgPSBwcm9taXNpZnkodGhpcy5fcmVzb2x2ZXIucmVzb2x2ZTQuYmluZCh0aGlzLl9yZXNvbHZlcikpO1xuXHRcdFx0dGhpcy5fcmVzb2x2ZTYgPSBwcm9taXNpZnkodGhpcy5fcmVzb2x2ZXIucmVzb2x2ZTYuYmluZCh0aGlzLl9yZXNvbHZlcikpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2lmYWNlID0gZ2V0SWZhY2VJbmZvKCk7XG5cblx0XHR0aGlzLl9wZW5kaW5nID0ge307XG5cdFx0dGhpcy5fbmV4dFJlbW92YWxUaW1lID0gZmFsc2U7XG5cdFx0dGhpcy5faG9zdG5hbWVzVG9GYWxsYmFjayA9IG5ldyBTZXQoKTtcblxuXHRcdGlmIChmYWxsYmFja0R1cmF0aW9uIDwgMSkge1xuXHRcdFx0dGhpcy5fZmFsbGJhY2sgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fZmFsbGJhY2sgPSB0cnVlO1xuXG5cdFx0XHRjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcblx0XHRcdFx0dGhpcy5faG9zdG5hbWVzVG9GYWxsYmFjay5jbGVhcigpO1xuXHRcdFx0fSwgZmFsbGJhY2tEdXJhdGlvbiAqIDEwMDApO1xuXG5cdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogVGhlcmUgaXMgbm8gYGludGVydmFsLnVucmVmKClgIHdoZW4gcnVubmluZyBpbnNpZGUgYW4gRWxlY3Ryb24gcmVuZGVyZXIgKi9cblx0XHRcdGlmIChpbnRlcnZhbC51bnJlZikge1xuXHRcdFx0XHRpbnRlcnZhbC51bnJlZigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMubG9va3VwID0gdGhpcy5sb29rdXAuYmluZCh0aGlzKTtcblx0XHR0aGlzLmxvb2t1cEFzeW5jID0gdGhpcy5sb29rdXBBc3luYy5iaW5kKHRoaXMpO1xuXHR9XG5cblx0c2V0IHNlcnZlcnMoc2VydmVycykge1xuXHRcdHRoaXMuY2xlYXIoKTtcblxuXHRcdHRoaXMuX3Jlc29sdmVyLnNldFNlcnZlcnMoc2VydmVycyk7XG5cdH1cblxuXHRnZXQgc2VydmVycygpIHtcblx0XHRyZXR1cm4gdGhpcy5fcmVzb2x2ZXIuZ2V0U2VydmVycygpO1xuXHR9XG5cblx0bG9va3VwKGhvc3RuYW1lLCBvcHRpb25zLCBjYWxsYmFjaykge1xuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xuXHRcdFx0b3B0aW9ucyA9IHt9O1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRvcHRpb25zID0ge1xuXHRcdFx0XHRmYW1pbHk6IG9wdGlvbnNcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKCFjYWxsYmFjaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG5cdFx0fVxuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvcHJlZmVyLWF3YWl0LXRvLXRoZW5cblx0XHR0aGlzLmxvb2t1cEFzeW5jKGhvc3RuYW1lLCBvcHRpb25zKS50aGVuKHJlc3VsdCA9PiB7XG5cdFx0XHRpZiAob3B0aW9ucy5hbGwpIHtcblx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbGxiYWNrKG51bGwsIHJlc3VsdC5hZGRyZXNzLCByZXN1bHQuZmFtaWx5LCByZXN1bHQuZXhwaXJlcywgcmVzdWx0LnR0bCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGJhY2spO1xuXHR9XG5cblx0YXN5bmMgbG9va3VwQXN5bmMoaG9zdG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcblx0XHRcdG9wdGlvbnMgPSB7XG5cdFx0XHRcdGZhbWlseTogb3B0aW9uc1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRsZXQgY2FjaGVkID0gYXdhaXQgdGhpcy5xdWVyeShob3N0bmFtZSk7XG5cblx0XHRpZiAob3B0aW9ucy5mYW1pbHkgPT09IDYpIHtcblx0XHRcdGNvbnN0IGZpbHRlcmVkID0gY2FjaGVkLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5mYW1pbHkgPT09IDYpO1xuXG5cdFx0XHRpZiAob3B0aW9ucy5oaW50cyAmIFY0TUFQUEVEKSB7XG5cdFx0XHRcdGlmICgoc3VwcG9ydHNBTEwgJiYgb3B0aW9ucy5oaW50cyAmIEFMTCkgfHwgZmlsdGVyZWQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0bWFwNHRvNihjYWNoZWQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhY2hlZCA9IGZpbHRlcmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYWNoZWQgPSBmaWx0ZXJlZDtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuZmFtaWx5ID09PSA0KSB7XG5cdFx0XHRjYWNoZWQgPSBjYWNoZWQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmZhbWlseSA9PT0gNCk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuaGludHMgJiBBRERSQ09ORklHKSB7XG5cdFx0XHRjb25zdCB7X2lmYWNlfSA9IHRoaXM7XG5cdFx0XHRjYWNoZWQgPSBjYWNoZWQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmZhbWlseSA9PT0gNiA/IF9pZmFjZS5oYXM2IDogX2lmYWNlLmhhczQpO1xuXHRcdH1cblxuXHRcdGlmIChjYWNoZWQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgY2FjaGVhYmxlTG9va3VwIEVOT1RGT1VORCAke2hvc3RuYW1lfWApO1xuXHRcdFx0ZXJyb3IuY29kZSA9ICdFTk9URk9VTkQnO1xuXHRcdFx0ZXJyb3IuaG9zdG5hbWUgPSBob3N0bmFtZTtcblxuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuYWxsKSB7XG5cdFx0XHRyZXR1cm4gY2FjaGVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBjYWNoZWRbMF07XG5cdH1cblxuXHRhc3luYyBxdWVyeShob3N0bmFtZSkge1xuXHRcdGxldCBjYWNoZWQgPSBhd2FpdCB0aGlzLl9jYWNoZS5nZXQoaG9zdG5hbWUpO1xuXG5cdFx0aWYgKCFjYWNoZWQpIHtcblx0XHRcdGNvbnN0IHBlbmRpbmcgPSB0aGlzLl9wZW5kaW5nW2hvc3RuYW1lXTtcblxuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0Y2FjaGVkID0gYXdhaXQgcGVuZGluZztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IG5ld1Byb21pc2UgPSB0aGlzLnF1ZXJ5QW5kQ2FjaGUoaG9zdG5hbWUpO1xuXHRcdFx0XHR0aGlzLl9wZW5kaW5nW2hvc3RuYW1lXSA9IG5ld1Byb21pc2U7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjYWNoZWQgPSBhd2FpdCBuZXdQcm9taXNlO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl9wZW5kaW5nW2hvc3RuYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNhY2hlZCA9IGNhY2hlZC5tYXAoZW50cnkgPT4ge1xuXHRcdFx0cmV0dXJuIHsuLi5lbnRyeX07XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gY2FjaGVkO1xuXHR9XG5cblx0YXN5bmMgX3Jlc29sdmUoaG9zdG5hbWUpIHtcblx0XHRjb25zdCB3cmFwID0gYXN5bmMgcHJvbWlzZSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gYXdhaXQgcHJvbWlzZTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGlmIChlcnJvci5jb2RlID09PSAnRU5PREFUQScgfHwgZXJyb3IuY29kZSA9PT0gJ0VOT1RGT1VORCcpIHtcblx0XHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gQU5ZIGlzIHVuc2FmZSBhcyBpdCBkb2Vzbid0IHRyaWdnZXIgbmV3IHF1ZXJpZXMgaW4gdGhlIHVuZGVybHlpbmcgc2VydmVyLlxuXHRcdGNvbnN0IFtBLCBBQUFBXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRcdHRoaXMuX3Jlc29sdmU0KGhvc3RuYW1lLCB0dGwpLFxuXHRcdFx0dGhpcy5fcmVzb2x2ZTYoaG9zdG5hbWUsIHR0bClcblx0XHRdLm1hcChwcm9taXNlID0+IHdyYXAocHJvbWlzZSkpKTtcblxuXHRcdGxldCBhVHRsID0gMDtcblx0XHRsZXQgYWFhYVR0bCA9IDA7XG5cdFx0bGV0IGNhY2hlVHRsID0gMDtcblxuXHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIEEpIHtcblx0XHRcdGVudHJ5LmZhbWlseSA9IDQ7XG5cdFx0XHRlbnRyeS5leHBpcmVzID0gbm93ICsgKGVudHJ5LnR0bCAqIDEwMDApO1xuXG5cdFx0XHRhVHRsID0gTWF0aC5tYXgoYVR0bCwgZW50cnkudHRsKTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIEFBQUEpIHtcblx0XHRcdGVudHJ5LmZhbWlseSA9IDY7XG5cdFx0XHRlbnRyeS5leHBpcmVzID0gbm93ICsgKGVudHJ5LnR0bCAqIDEwMDApO1xuXG5cdFx0XHRhYWFhVHRsID0gTWF0aC5tYXgoYWFhYVR0bCwgZW50cnkudHRsKTtcblx0XHR9XG5cblx0XHRpZiAoQS5sZW5ndGggPiAwKSB7XG5cdFx0XHRpZiAoQUFBQS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGNhY2hlVHRsID0gTWF0aC5taW4oYVR0bCwgYWFhYVR0bCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYWNoZVR0bCA9IGFUdGw7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhY2hlVHRsID0gYWFhYVR0bDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZW50cmllczogW1xuXHRcdFx0XHQuLi5BLFxuXHRcdFx0XHQuLi5BQUFBXG5cdFx0XHRdLFxuXHRcdFx0Y2FjaGVUdGxcblx0XHR9O1xuXHR9XG5cblx0YXN5bmMgX2xvb2t1cChob3N0bmFtZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBlbnRyaWVzID0gYXdhaXQgdGhpcy5fZG5zTG9va3VwKGhvc3RuYW1lLCB7XG5cdFx0XHRcdGFsbDogdHJ1ZVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVudHJpZXMsXG5cdFx0XHRcdGNhY2hlVHRsOiAwXG5cdFx0XHR9O1xuXHRcdH0gY2F0Y2ggKF8pIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVudHJpZXM6IFtdLFxuXHRcdFx0XHRjYWNoZVR0bDogMFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBfc2V0KGhvc3RuYW1lLCBkYXRhLCBjYWNoZVR0bCkge1xuXHRcdGlmICh0aGlzLm1heFR0bCA+IDAgJiYgY2FjaGVUdGwgPiAwKSB7XG5cdFx0XHRjYWNoZVR0bCA9IE1hdGgubWluKGNhY2hlVHRsLCB0aGlzLm1heFR0bCkgKiAxMDAwO1xuXHRcdFx0ZGF0YVtrRXhwaXJlc10gPSBEYXRlLm5vdygpICsgY2FjaGVUdGw7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuX2NhY2hlLnNldChob3N0bmFtZSwgZGF0YSwgY2FjaGVUdGwpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0dGhpcy5sb29rdXBBc3luYyA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBjYWNoZUVycm9yID0gbmV3IEVycm9yKCdDYWNoZSBFcnJvci4gUGxlYXNlIHJlY3JlYXRlIHRoZSBDYWNoZWFibGVMb29rdXAgaW5zdGFuY2UuJyk7XG5cdFx0XHRcdFx0Y2FjaGVFcnJvci5jYXVzZSA9IGVycm9yO1xuXG5cdFx0XHRcdFx0dGhyb3cgY2FjaGVFcnJvcjtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzSXRlcmFibGUodGhpcy5fY2FjaGUpKSB7XG5cdFx0XHRcdHRoaXMuX3RpY2soY2FjaGVUdGwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHF1ZXJ5QW5kQ2FjaGUoaG9zdG5hbWUpIHtcblx0XHRpZiAodGhpcy5faG9zdG5hbWVzVG9GYWxsYmFjay5oYXMoaG9zdG5hbWUpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fZG5zTG9va3VwKGhvc3RuYW1lLCBhbGwpO1xuXHRcdH1cblxuXHRcdGxldCBxdWVyeSA9IGF3YWl0IHRoaXMuX3Jlc29sdmUoaG9zdG5hbWUpO1xuXG5cdFx0aWYgKHF1ZXJ5LmVudHJpZXMubGVuZ3RoID09PSAwICYmIHRoaXMuX2ZhbGxiYWNrKSB7XG5cdFx0XHRxdWVyeSA9IGF3YWl0IHRoaXMuX2xvb2t1cChob3N0bmFtZSk7XG5cblx0XHRcdGlmIChxdWVyeS5lbnRyaWVzLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0XHQvLyBVc2UgYGRucy5sb29rdXAoLi4uKWAgZm9yIHRoYXQgcGFydGljdWxhciBob3N0bmFtZVxuXHRcdFx0XHR0aGlzLl9ob3N0bmFtZXNUb0ZhbGxiYWNrLmFkZChob3N0bmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgY2FjaGVUdGwgPSBxdWVyeS5lbnRyaWVzLmxlbmd0aCA9PT0gMCA/IHRoaXMuZXJyb3JUdGwgOiBxdWVyeS5jYWNoZVR0bDtcblx0XHRhd2FpdCB0aGlzLl9zZXQoaG9zdG5hbWUsIHF1ZXJ5LmVudHJpZXMsIGNhY2hlVHRsKTtcblxuXHRcdHJldHVybiBxdWVyeS5lbnRyaWVzO1xuXHR9XG5cblx0X3RpY2sobXMpIHtcblx0XHRjb25zdCBuZXh0UmVtb3ZhbFRpbWUgPSB0aGlzLl9uZXh0UmVtb3ZhbFRpbWU7XG5cblx0XHRpZiAoIW5leHRSZW1vdmFsVGltZSB8fCBtcyA8IG5leHRSZW1vdmFsVGltZSkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbW92YWxUaW1lb3V0KTtcblxuXHRcdFx0dGhpcy5fbmV4dFJlbW92YWxUaW1lID0gbXM7XG5cblx0XHRcdHRoaXMuX3JlbW92YWxUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuX25leHRSZW1vdmFsVGltZSA9IGZhbHNlO1xuXG5cdFx0XHRcdGxldCBuZXh0RXhwaXJ5ID0gSW5maW5pdHk7XG5cblx0XHRcdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IFtob3N0bmFtZSwgZW50cmllc10gb2YgdGhpcy5fY2FjaGUpIHtcblx0XHRcdFx0XHRjb25zdCBleHBpcmVzID0gZW50cmllc1trRXhwaXJlc107XG5cblx0XHRcdFx0XHRpZiAobm93ID49IGV4cGlyZXMpIHtcblx0XHRcdFx0XHRcdHRoaXMuX2NhY2hlLmRlbGV0ZShob3N0bmFtZSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChleHBpcmVzIDwgbmV4dEV4cGlyeSkge1xuXHRcdFx0XHRcdFx0bmV4dEV4cGlyeSA9IGV4cGlyZXM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5leHRFeHBpcnkgIT09IEluZmluaXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5fdGljayhuZXh0RXhwaXJ5IC0gbm93KTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgbXMpO1xuXG5cdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogVGhlcmUgaXMgbm8gYHRpbWVvdXQudW5yZWYoKWAgd2hlbiBydW5uaW5nIGluc2lkZSBhbiBFbGVjdHJvbiByZW5kZXJlciAqL1xuXHRcdFx0aWYgKHRoaXMuX3JlbW92YWxUaW1lb3V0LnVucmVmKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92YWxUaW1lb3V0LnVucmVmKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aW5zdGFsbChhZ2VudCkge1xuXHRcdHZlcmlmeUFnZW50KGFnZW50KTtcblxuXHRcdGlmIChrQ2FjaGVhYmxlTG9va3VwQ3JlYXRlQ29ubmVjdGlvbiBpbiBhZ2VudCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYWNoZWFibGVMb29rdXAgaGFzIGJlZW4gYWxyZWFkeSBpbnN0YWxsZWQnKTtcblx0XHR9XG5cblx0XHRhZ2VudFtrQ2FjaGVhYmxlTG9va3VwQ3JlYXRlQ29ubmVjdGlvbl0gPSBhZ2VudC5jcmVhdGVDb25uZWN0aW9uO1xuXHRcdGFnZW50W2tDYWNoZWFibGVMb29rdXBJbnN0YW5jZV0gPSB0aGlzO1xuXG5cdFx0YWdlbnQuY3JlYXRlQ29ubmVjdGlvbiA9IChvcHRpb25zLCBjYWxsYmFjaykgPT4ge1xuXHRcdFx0aWYgKCEoJ2xvb2t1cCcgaW4gb3B0aW9ucykpIHtcblx0XHRcdFx0b3B0aW9ucy5sb29rdXAgPSB0aGlzLmxvb2t1cDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFnZW50W2tDYWNoZWFibGVMb29rdXBDcmVhdGVDb25uZWN0aW9uXShvcHRpb25zLCBjYWxsYmFjayk7XG5cdFx0fTtcblx0fVxuXG5cdHVuaW5zdGFsbChhZ2VudCkge1xuXHRcdHZlcmlmeUFnZW50KGFnZW50KTtcblxuXHRcdGlmIChhZ2VudFtrQ2FjaGVhYmxlTG9va3VwQ3JlYXRlQ29ubmVjdGlvbl0pIHtcblx0XHRcdGlmIChhZ2VudFtrQ2FjaGVhYmxlTG9va3VwSW5zdGFuY2VdICE9PSB0aGlzKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignVGhlIGFnZW50IGlzIG5vdCBvd25lZCBieSB0aGlzIENhY2hlYWJsZUxvb2t1cCBpbnN0YW5jZScpO1xuXHRcdFx0fVxuXG5cdFx0XHRhZ2VudC5jcmVhdGVDb25uZWN0aW9uID0gYWdlbnRba0NhY2hlYWJsZUxvb2t1cENyZWF0ZUNvbm5lY3Rpb25dO1xuXG5cdFx0XHRkZWxldGUgYWdlbnRba0NhY2hlYWJsZUxvb2t1cENyZWF0ZUNvbm5lY3Rpb25dO1xuXHRcdFx0ZGVsZXRlIGFnZW50W2tDYWNoZWFibGVMb29rdXBJbnN0YW5jZV07XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlSW50ZXJmYWNlSW5mbygpIHtcblx0XHRjb25zdCB7X2lmYWNlfSA9IHRoaXM7XG5cblx0XHR0aGlzLl9pZmFjZSA9IGdldElmYWNlSW5mbygpO1xuXG5cdFx0aWYgKChfaWZhY2UuaGFzNCAmJiAhdGhpcy5faWZhY2UuaGFzNCkgfHwgKF9pZmFjZS5oYXM2ICYmICF0aGlzLl9pZmFjZS5oYXM2KSkge1xuXHRcdFx0dGhpcy5fY2FjaGUuY2xlYXIoKTtcblx0XHR9XG5cdH1cblxuXHRjbGVhcihob3N0bmFtZSkge1xuXHRcdGlmIChob3N0bmFtZSkge1xuXHRcdFx0dGhpcy5fY2FjaGUuZGVsZXRlKGhvc3RuYW1lKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9jYWNoZS5jbGVhcigpO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FjaGVhYmxlTG9va3VwO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IENhY2hlYWJsZUxvb2t1cDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/cacheable-lookup/source/index.js\n");

/***/ })

};
;