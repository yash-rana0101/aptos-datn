(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5024:function(){},3103:function(e,r,t){Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.t.bind(t,8522,23)),Promise.resolve().then(t.t.bind(t,1762,23)),Promise.resolve().then(t.t.bind(t,3054,23)),Promise.resolve().then(t.bind(t,5610)),Promise.resolve().then(t.bind(t,6519)),Promise.resolve().then(t.bind(t,4858)),Promise.resolve().then(t.bind(t,6583)),Promise.resolve().then(t.bind(t,3517)),Promise.resolve().then(t.bind(t,4710)),Promise.resolve().then(t.bind(t,5984)),Promise.resolve().then(t.bind(t,1658))},6519:function(e,r,t){"use strict";t.d(r,{default:function(){return d}});var s=t(7437),a=t(2265),n=t(6463),l=t(5984);let i=["/","/verify","/search","/product","/about","/contact","/faq","/terms","/privacy","/help"],o=["/checkout","/profile","/settings","/order","/dashboard","/seller"];function d(e){let{children:r}=e,t=(0,n.usePathname)(),{isAuthenticated:d,isLoading:c,userProfile:x}=(0,l.a)(),[u,m]=(0,a.useState)(!0),h=i.some(e=>"/"===e?"/"===t:"/product"===e?"/product"===t||t.startsWith("/product/"):t.startsWith(e)),g=o.some(e=>t.startsWith(e));if((0,a.useEffect)(()=>{let e=setTimeout(()=>{m(!1)},100);return()=>clearTimeout(e)},[]),u||c)return(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-white text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-[#C6D870] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Loading..."})]})});if(h)return(0,s.jsx)(s.Fragment,{children:r});if(g&&!d)return(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"text-center max-w-md glass-neo p-8 rounded-2xl border border-gray-800",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-[#C6D870]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-[#C6D870]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-3",children:"Wallet Required"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Please connect your wallet to access this page"}),(0,s.jsx)("button",{onClick:()=>window.location.href="/",className:"px-6 py-3 bg-[#C6D870] text-black rounded-lg font-semibold hover:bg-[#B5C760] transition-colors",children:"Go to Home"})]})});if(t.startsWith("/seller")){if(!d)return(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"text-center max-w-md glass-neo p-8 rounded-2xl border border-gray-800",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-[#C6D870]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-[#C6D870]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-3",children:"Wallet Required"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Please connect your wallet to access the seller dashboard"}),(0,s.jsx)("button",{onClick:()=>window.location.href="/",className:"px-6 py-3 bg-[#C6D870] text-black rounded-lg font-semibold hover:bg-[#B5C760] transition-colors",children:"Go to Home"})]})});if(x&&2!==x.role)return(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"text-center max-w-md glass-neo p-8 rounded-2xl border border-gray-800",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-[#C6D870]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M6.93 6.93l10.14 10.14"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-3",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"This section is only available to sellers."}),(0,s.jsx)("button",{onClick:()=>window.location.href="/",className:"px-6 py-3 bg-[#C6D870] text-black rounded-lg font-semibold hover:bg-[#B5C760] transition-colors",children:"Go to Home"})]})})}return(0,s.jsx)(s.Fragment,{children:r})}},5610:function(e,r,t){"use strict";t.d(r,{default:function(){return V}});var s=t(7437),a=t(2265),n=t(7138),l=t(6463),i=t(9354);let o={sm:"h-8",md:"h-12",lg:"h-16",xl:"h-24"},d={sm:"text-lg",md:"text-2xl",lg:"text-4xl",xl:"text-6xl"};var c=e=>{let{variant:r="full",size:t="md",className:a,showTagline:n=!1}=e;return"icon"===r?(0,s.jsx)("div",{className:(0,i.cn)("flex items-center justify-center",a),children:(0,s.jsx)("div",{className:(0,i.cn)("rounded-lg bg-[#C6D870] flex items-center justify-center font-bold text-black",o[t],{"w-8 text-sm":"sm"===t,"w-12 text-xl":"md"===t,"w-16 text-3xl":"lg"===t,"w-24 text-5xl":"xl"===t}),children:"D"})}):"text"===r?(0,s.jsxs)("div",{className:(0,i.cn)("flex flex-col",a),children:[(0,s.jsx)("h1",{className:(0,i.cn)("font-bold text-black dark:text-white",d[t]),children:"DATN"}),n&&(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Decentralized Autonomous Trade Network"})]}):(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center gap-3",a),children:[(0,s.jsx)("div",{className:(0,i.cn)("rounded-lg bg-[#C6D870] flex items-center justify-center font-bold text-black",o[t],{"w-8 text-sm":"sm"===t,"w-12 text-xl":"md"===t,"w-16 text-3xl":"lg"===t,"w-24 text-5xl":"xl"===t}),children:"D"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:(0,i.cn)("font-bold text-black dark:text-white",d[t]),children:"DATN"}),n&&(0,s.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Decentralized Trade Network"})]})]})},x=t(9733),u=t(9055),m=t(7693),h=t(5984),g=t(5737),b=t(3231),f=t(2022),p=t(9715),v=t(6884),y=t(3787),j=t(9896),N=t(7776);let w=e=>{var r;let{onConnectClick:t,className:l}=e,{account:o,connected:d,disconnect:c}=(0,m.Os)(),{isAuthenticated:w,userProfile:k}=(0,h.a)(),[C,D]=(0,a.useState)(!1),A=null==o?void 0:null===(r=o.address)||void 0===r?void 0:r.toString(),R=e=>e?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"",E=async()=>{D(!1),await c()};return w?null:d?(0,s.jsxs)("div",{className:(0,i.cn)("relative",l),children:[(0,s.jsxs)("button",{onClick:()=>D(!C),className:(0,i.cn)("flex items-center gap-3 px-4 py-2 rounded-lg","border",w?"border-green-500/50 bg-green-50 dark:bg-green-950/20":"border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950","hover:border-[#C6D870] transition-all","group"),children:[w?(0,s.jsxs)(u.C,{className:"text-xs bg-green-500 hover:bg-green-600",children:[(0,s.jsx)(b.Z,{className:"w-3 h-3 mr-1"}),"Authenticated"]}):(0,s.jsx)(u.C,{variant:"lime",className:"text-xs",children:"Aptos"}),"",(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono",children:R(A||"")}),(0,s.jsx)("svg",{className:(0,i.cn)("w-4 h-4 text-gray-400 transition-transform",C&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>D(!1)}),(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-950 border border-gray-200 dark:border-gray-800 rounded-lg shadow-xl z-50",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:w?"Authenticated Wallet":"Connected Wallet"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:(0,i.cn)("w-2 h-2 rounded-full animate-pulse",w?"bg-green-500":"bg-yellow-500")}),(0,s.jsx)("span",{className:(0,i.cn)("text-xs font-medium",w?"text-green-500":"text-yellow-500"),children:w?"Verified":"Active"})]})]}),w&&k&&(0,s.jsx)("div",{className:"mb-3 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#C6D870] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-black font-bold text-lg",children:k.name.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold text-sm text-black dark:text-white",children:k.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[k.role," • ",k.email]})]})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#C6D870] flex items-center justify-center",children:(0,s.jsx)(g.Z,{className:"w-6 h-6 text-black"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-mono text-sm text-black dark:text-white",children:R(A||"")}),(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Aptos Network"})]})]}),""]}),(0,s.jsxs)("div",{className:"p-2",children:[w&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.default,{href:"/profile",onClick:()=>D(!1),className:"w-full px-3 py-2 text-left text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors flex items-center gap-3 group",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 text-gray-400 group-hover:text-[#C6D870]"}),(0,s.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"My Profile"})]}),(0,s.jsxs)(n.default,{href:"/order",onClick:()=>D(!1),className:"w-full px-3 py-2 text-left text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors flex items-center gap-3 group",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 text-gray-400 group-hover:text-[#C6D870]"}),(0,s.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"My Orders"})]}),(0,s.jsx)("div",{className:"my-2 border-t border-gray-200 dark:border-gray-800"})]}),(0,s.jsxs)("button",{onClick:()=>{A&&(navigator.clipboard.writeText(A),N.Am.success("Address copied to clipboard!"))},className:"w-full px-3 py-2 text-left text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors flex items-center gap-3 group",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 text-gray-400 group-hover:text-[#C6D870]"}),(0,s.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Copy Address"})]}),(0,s.jsxs)("button",{onClick:()=>{A&&window.open("https://explorer.aptoslabs.com/account/".concat(A,"?network=testnet"),"_blank")},className:"w-full px-3 py-2 text-left text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors flex items-center gap-3 group",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 text-gray-400 group-hover:text-[#C6D870]"}),(0,s.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"View on Explorer"})]}),(0,s.jsx)("div",{className:"my-2 border-t border-gray-200 dark:border-gray-800"}),(0,s.jsxs)("button",{onClick:E,className:"w-full px-3 py-2 text-left text-sm rounded-lg hover:bg-red-50 dark:hover:bg-red-950/20 transition-colors flex items-center gap-3 group",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 text-red-500"}),(0,s.jsx)("span",{className:"text-red-500",children:"Disconnect Wallet"})]})]})]})]})]}):(0,s.jsxs)(x.z,{onClick:t,className:(0,i.cn)("bg-[#C6D870] hover:bg-[#b8c962] text-black font-medium",l),children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 mr-2"}),"Connect Wallet"]})};var k=t(8185),C=t(7209);let D=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a})});D.displayName="Textarea";var A=t(4516),R=t(108),E=t(4174),P=t(4086),S=t(4436),L=t(2023),Z=t(3149);function B(e){var r;let{onSuccess:t,onCancel:n}=e,[l,i]=(0,a.useState)({name:"",email:"",country:"",address:"",bio:"",role:R.pR.BUYER}),o=(0,A.sS)(),d=async e=>{e.preventDefault();try{await o.mutateAsync({name:l.name,country:l.country,role:l.role,email:l.email,address:l.address,bio:l.bio}),null==t||t()}catch(e){console.error("Registration error:",e)}},c=e=>{i(r=>({...r,[e.target.name]:e.target.value}))},u=""!==l.name.trim()&&""!==l.email.trim()&&""!==l.country.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email);return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,s.jsxs)(k.Zb,{className:"bg-black border border-[#C6D870] w-full max-w-md p-8 mx-4 h-[80vh] overflow-y-auto scrollbar-hide",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"neo-flat rounded-full p-4 bg-black",children:(0,s.jsx)(E.Z,{className:"w-12 h-12 text-[#C6D870]"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create Your Profile"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Register on the blockchain to start using DATN Marketplace"})]}),(0,s.jsxs)("form",{onSubmit:d,className:"space-y-5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm text-gray-300 font-medium flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 text-[#C6D870]"}),"Full Name *"]}),(0,s.jsx)(C.I,{type:"text",name:"name",value:l.name,onChange:c,placeholder:"Enter your full name",className:"glass-neo border-white/10 focus:border-[#C6D870] bg-black/40 text-white placeholder:text-gray-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm text-gray-300 font-medium flex items-center gap-2",children:[(0,s.jsx)(P.Z,{className:"w-4 h-4 text-[#C6D870]"}),"Email Address *"]}),(0,s.jsx)(C.I,{type:"email",name:"email",value:l.email,onChange:c,placeholder:"your.email@example.com",className:"glass-neo border-white/10 focus:border-[#C6D870] bg-black/40 text-white placeholder:text-gray-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm text-gray-300 font-medium flex items-center gap-2",children:[(0,s.jsx)(S.Z,{className:"w-4 h-4 text-[#C6D870]"}),"Country *"]}),(0,s.jsx)(C.I,{type:"text",name:"country",value:l.country,onChange:c,placeholder:"Enter your country",className:"glass-neo border-white/10 focus:border-[#C6D870] bg-black/40 text-white placeholder:text-gray-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm text-gray-300 font-medium flex items-center gap-2",children:[(0,s.jsx)(S.Z,{className:"w-4 h-4 text-[#C6D870]"}),"Physical Address *"]}),(0,s.jsx)(C.I,{type:"text",name:"address",value:l.address,onChange:c,placeholder:"Enter your address",className:"glass-neo border-white/10 focus:border-[#C6D870] bg-black/40 text-white placeholder:text-gray-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm text-gray-300 font-medium flex items-center gap-2",children:[(0,s.jsx)(L.Z,{className:"w-4 h-4 text-[#C6D870]"}),"Bio (Optional)"]}),(0,s.jsx)(D,{name:"bio",value:l.bio,onChange:c,placeholder:"Tell us about yourself...",className:"glass-neo border-white/10 focus:border-[#C6D870] bg-black/40 text-white placeholder:text-gray-500 min-h-[80px]",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:"text-sm text-gray-300 font-medium",children:"Choose Your Role *"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>i(e=>({...e,role:R.pR.BUYER})),className:"\n                  neo-flat p-4 rounded-lg transition-all duration-200\n                  ".concat(l.role===R.pR.BUYER?"bg-[#C6D870]/20 border-2 border-[#C6D870]":"bg-black/40 border-2 border-white/10 hover:border-white/20","\n                "),children:[(0,s.jsx)(E.Z,{className:"w-8 h-8 mx-auto mb-2 ".concat(l.role===R.pR.BUYER?"text-[#C6D870]":"text-gray-400")}),(0,s.jsx)("p",{className:"text-sm font-medium ".concat(l.role===R.pR.BUYER?"text-[#C6D870]":"text-gray-300"),children:"Buyer"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Browse & purchase products"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>i(e=>({...e,role:R.pR.SELLER})),className:"\n                  neo-flat p-4 rounded-lg transition-all duration-200\n                  ".concat(l.role===R.pR.SELLER?"bg-[#C6D870]/20 border-2 border-[#C6D870]":"bg-black/40 border-2 border-white/10 hover:border-white/20","\n                "),children:[(0,s.jsx)(Z.Z,{className:"w-8 h-8 mx-auto mb-2 ".concat(l.role===R.pR.SELLER?"text-[#C6D870]":"text-gray-400")}),(0,s.jsx)("p",{className:"text-sm font-medium ".concat(l.role===R.pR.SELLER?"text-[#C6D870]":"text-gray-300"),children:"Seller"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"List & sell products"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[n&&(0,s.jsx)(x.z,{type:"button",onClick:n,variant:"outline",className:"flex-1 neo-flat border-white/10 hover:border-white/20 text-white",disabled:o.isPending,children:"Cancel"}),(0,s.jsx)(x.z,{type:"submit",disabled:!u||o.isPending,className:"flex-1 neo-flat bg-[#C6D870] hover:bg-[#454d1d] text-black font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:o.isPending?(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-4 h-4 border-2 border-black/20 border-t-black rounded-full animate-spin"}),"Registering on Blockchain..."]}):"Register on Blockchain"})]})]}),o.isError&&(0,s.jsxs)("div",{className:"mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,s.jsx)("p",{className:"text-sm text-red-400 text-center",children:o.error.message||"Registration failed. Please try again."}),(null===(r=o.error.message)||void 0===r?void 0:r.includes("network configuration"))&&(0,s.jsxs)("div",{className:"mt-3 text-xs text-gray-400 space-y-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Troubleshooting steps:"}),(0,s.jsx)("p",{children:"1. Open Petra Wallet extension"}),(0,s.jsx)("p",{children:"2. Click Settings → Network"}),(0,s.jsx)("p",{children:"3. Switch to Devnet or Testnet"}),(0,s.jsx)("p",{children:"4. Try registering again"})]})]}),(0,s.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Your profile will be stored on the Aptos blockchain. This transaction may require a small gas fee."})})]})})}var W=t(4697),_=t(1976),z=t(690);let I=[{id:"Petra",name:"Petra Wallet",Icon:g.Z,description:"Connect with Petra wallet for Aptos"}],O=e=>{var r;let{isOpen:t,onClose:n,className:o}=e,d=(0,l.useRouter)(),{connect:c,account:x,connected:u,disconnect:h}=(0,m.Os)(),[g,b]=(0,a.useState)(!1),[f,p]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),k=null==x?void 0:null===(r=x.address)||void 0===r?void 0:r.toString(),{data:C,isLoading:D}=(0,A.Gr)(k),R=async e=>{p(e),w(!0);try{await c(e),await new Promise(e=>setTimeout(e,500)),N.Am.success("Wallet connected! Checking your profile..."),y(!0)}catch(r){let e=r instanceof Error?r.message:"Connection failed";N.Am.error(e),console.error("Connection error:",r)}finally{p(null),w(!1)}};(0,a.useEffect)(()=>{u&&k&&!D&&v&&(y(!1),p(null),C?(N.Am.success("Welcome back!"),n(),setTimeout(()=>d.push("/product"),300)):(N.Am.info("No profile found. Please register to continue."),b(!0)))},[u,k,C,D,v,n,d]);let E=async()=>{b(!1),await h(),N.Am.info("Registration cancelled. Wallet disconnected.")};return t?g&&u?(0,s.jsx)(B,{onSuccess:()=>{b(!1),N.Am.success("Registration successful! Welcome to DATN!"),n(),setTimeout(()=>d.push("/product"),300)},onCancel:E}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:n}),(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:(0,i.cn)("bg-white dark:bg-gray-950 rounded-xl shadow-2xl max-w-md w-full border border-gray-200 dark:border-gray-800 animate-in fade-in zoom-in duration-200",o),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-black dark:text-white",children:"Connect Wallet"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Connect with Petra wallet to access DATN Marketplace"})]}),(0,s.jsx)("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors",disabled:j,children:(0,s.jsx)(W.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"p-6 space-y-3",children:I.map(e=>(0,s.jsxs)("button",{onClick:()=>R(e.id),disabled:j||u,className:(0,i.cn)("w-full p-4 rounded-lg border border-gray-200 dark:border-gray-800 flex items-center gap-4 text-left transition-all duration-200 hover:border-[#C6D870] hover:bg-[#C6D870]/10 disabled:opacity-50 disabled:cursor-not-allowed group",j&&f===e.id&&"border-[#C6D870] bg-[#C6D870]/10"),children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[#C6D870]/20 flex items-center justify-center",children:(0,s.jsx)(e.Icon,{className:"w-5 h-5 text-[#C6D870]"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold text-black dark:text-white group-hover:text-[#C6D870]",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]}),j&&f===e.id?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-gray-200 border-t-[#C6D870] rounded-full animate-spin"}):(0,s.jsx)(_.Z,{className:"w-5 h-5 text-gray-400 group-hover:text-[#C6D870] transition-colors"})]},e.id))}),(0,s.jsx)("div",{className:"px-6 pb-6",children:(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(z.Z,{className:"w-5 h-5 text-[#C6D870] shrink-0"}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("p",{className:"font-medium text-black dark:text-white mb-1",children:"New to wallets?"}),(0,s.jsx)("p",{children:"Learn how to create and secure your wallet before isConnecting."}),(0,s.jsx)("a",{href:"https://petra.app/",target:"_blank",rel:"noopener noreferrer",className:"text-[#C6D870] hover:underline mt-1 inline-block",children:"Get Petra Wallet →"})]})]})})}),(j||D||v)&&(0,s.jsx)("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-950/80 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-[#C6D870] rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-sm font-medium text-black dark:text-white",children:j?"isConnecting...":"Loading profile..."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:j?"Check your wallet for approval":"Checking blockchain data"})]})})]})})]}):null};var T=t(1005),U=t(7524),q=t(4817);let M=[{label:"Home",href:"/",icon:T.Z,requiresAuth:!1,hideWhenAuth:!0},{label:"Products",href:"/product",icon:U.Z},{label:"Search",href:"/search",icon:q.Z},{label:"My Orders",href:"/order",icon:p.Z,requiresAuth:!0},{label:"Profile",href:"/profile",icon:f.Z,requiresAuth:!0}],F=[{label:"Dashboard",href:"/seller",icon:T.Z},{label:"Products",href:"/seller/products",icon:U.Z},{label:"Inventory",href:"/seller/inventory",icon:p.Z,requiresAuth:!0},{label:"Payments",href:"/seller/payments",icon:f.Z,requiresAuth:!0}];var V=()=>{let e=(0,l.usePathname)(),r=(0,l.useRouter)(),[t,o]=(0,a.useState)(!1),[d,x]=(0,a.useState)(!1),[u,g]=(0,a.useState)(!1),{isAuthenticated:b,userProfile:f}=(0,h.a)(),{disconnect:p}=(0,m.Os)(),v=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&g(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);let y=async()=>{try{await p(),g(!1),r.push("/")}catch(e){console.error("Disconnect failed:",e)}};return(0,s.jsxs)("nav",{className:"sticky top-0 z-50 w-full border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-black",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,s.jsx)(n.default,{href:"/",className:"flex items-center",children:(0,s.jsx)(c,{variant:"full",size:"sm"})}),(0,s.jsx)("div",{className:"hidden md:flex items-center gap-1",children:(f&&f.role===R.pR.SELLER?F:M).filter(e=>(!e.requiresAuth||!!b)&&(!e.hideWhenAuth||!b)).map(r=>{let t=e===r.href,a=r.icon;return(0,s.jsxs)(n.default,{href:r.href,className:(0,i.cn)("flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",t?"bg-[#C6D870] text-black":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-900 hover:text-black dark:hover:text-white"),children:[(0,s.jsx)(a,{className:"w-4 h-4"}),r.label,r.badge&&(0,s.jsx)("span",{className:"ml-1 px-2 py-0.5 text-xs rounded-full bg-[#C6D870] text-black",children:r.badge})]},r.href)})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[b&&f&&(0,s.jsxs)("div",{className:"hidden md:block relative",ref:v,children:[(0,s.jsxs)("button",{onClick:()=>g(!u),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-[#C6D870]/10 border border-[#C6D870]/30 hover:bg-[#C6D870]/20 transition-colors cursor-pointer",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#C6D870] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-black font-semibold text-sm",children:(null==f?void 0:f.name)?String(f.name).charAt(0).toUpperCase():"U"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-black dark:text-white",children:(null==f?void 0:f.name)||"User"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.role===R.pR.SELLER?"Seller":"Buyer"})]}),(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-48 rounded-xl border border-gray-700 bg-[#0b0b0b] backdrop-blur-lg shadow-xl z-50",children:(0,s.jsx)("div",{className:"p-2",children:(0,s.jsxs)("button",{onClick:y,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Disconnect"})]})})})]}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(w,{onConnectClick:()=>x(!0)})}),(0,s.jsx)("button",{onClick:()=>o(!t),className:"md:hidden p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-900",children:t?(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t&&(0,s.jsx)("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-800",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[b&&f&&(0,s.jsxs)("div",{className:"mb-3 p-3 rounded-lg bg-[#C6D870]/10 border border-[#C6D870]/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#C6D870] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-black font-semibold text-lg",children:(null==f?void 0:f.name)?String(f.name).charAt(0).toUpperCase():"U"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold text-sm text-black dark:text-white",children:(null==f?void 0:f.name)||"User"}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[f.role===R.pR.SELLER?"Seller":"Buyer"," • Authenticated"]})]})]}),(0,s.jsxs)("button",{onClick:()=>{y(),o(!1)},className:"w-full mt-3 flex items-center justify-center gap-2 px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors border border-red-500/20",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Disconnect"})]})]}),M.filter(e=>(!e.requiresAuth||!!b)&&(!e.hideWhenAuth||!b)).map(r=>{let t=e===r.href,a=r.icon;return(0,s.jsxs)(n.default,{href:r.href,onClick:()=>o(!1),className:(0,i.cn)("flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-all duration-200",t?"bg-[#C6D870] text-black":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-900"),children:[(0,s.jsx)(a,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:r.label})]},r.href)}),(0,s.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-800",children:(0,s.jsx)(w,{onConnectClick:()=>{x(!0),o(!1)}})})]})})]}),(0,s.jsx)(O,{isOpen:d,onClose:()=>x(!1)})]})}},4858:function(e,r,t){"use strict";t.d(r,{ThemeProvider:function(){return n}});var s=t(7437);t(2265);var a=t(9512);function n(e){let{children:r,...t}=e;return(0,s.jsx)(a.f,{...t,children:r})}},9055:function(e,r,t){"use strict";t.d(r,{C:function(){return i}});var s=t(7437);t(2265);var a=t(3027),n=t(9354);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",lime:"border-transparent bg-[#C6D870] text-black hover:bg-[#B5C760]",success:"border-transparent bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100",warning:"border-transparent bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100",error:"border-transparent bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100",info:"border-transparent bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:t}),r),...a})}},9733:function(e,r,t){"use strict";t.d(r,{z:function(){return o}});var s=t(7437);t(2265);var a=t(2974),n=t(3027),l=t(9354);let i=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-[#C6D870] text-[#1A1A1A] hover:bg-[#B5C760]",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,variant:t,size:n,asChild:o=!1,...d}=e,c=o?a.g7:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:t,size:n,className:r})),...d})}},8185:function(e,r,t){"use strict";t.d(r,{Zb:function(){return o}});var s=t(7437),a=t(2265),n=t(3027),l=t(9354);let i=(0,n.j)("rounded-lg border text-card-foreground shadow-sm transition-all duration-200",{variants:{variant:{default:"bg-card",primary:"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800",lime:"bg-[#C6D870]/10 border-[#C6D870]/30",dark:"bg-black text-white border-gray-800",ghost:"border-transparent shadow-none"},hover:{default:"",lift:"hover:shadow-lg hover:-translate-y-1",glow:"hover:shadow-[0_0_15px_rgba(198,216,112,0.3)] hover:border-[#C6D870]",scale:"hover:scale-105"},padding:{none:"p-0",sm:"p-4",default:"p-6",lg:"p-8"}},defaultVariants:{variant:"default",hover:"default",padding:"default"}}),o=a.forwardRef((e,r)=>{let{className:t,variant:a,hover:n,padding:o,...d}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)(i({variant:a,hover:n,padding:o,className:t})),...d})});o.displayName="Card",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})}).displayName="CardHeader",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})}).displayName="CardTitle",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",t),...a})}).displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},7209:function(e,r,t){"use strict";t.d(r,{I:function(){return l}});var s=t(7437),a=t(2265),n=t(9354);let l=a.forwardRef((e,r)=>{let{className:t,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all duration-200","md:text-sm",t),ref:r,...l})});l.displayName="Input"},6583:function(e,r,t){"use strict";t.d(r,{Toaster:function(){return x}});var s=t(7437),a=t(3231),n=t(690),l=t(6127),i=t(6206),o=t(3274),d=t(9512),c=t(7776);let x=e=>{let{...r}=e,{theme:t="system"}=(0,d.F)();return(0,s.jsx)(c.x7,{theme:t,className:"toaster group",icons:{success:(0,s.jsx)(a.Z,{className:"size-4"}),info:(0,s.jsx)(n.Z,{className:"size-4"}),warning:(0,s.jsx)(l.Z,{className:"size-4"}),error:(0,s.jsx)(i.Z,{className:"size-4"}),loading:(0,s.jsx)(o.Z,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...r})}},3517:function(e,r,t){"use strict";t.d(r,{AptosWalletProvider:function(){return l}});var s=t(7437);t(2265);var a=t(7693),n=t(108);function l(e){let{children:r}=e,t="local"===n.IB?"devnet":n.IB;return(0,s.jsx)(a.Ay,{autoConnect:!0,dappConfig:{network:t,aptosConnectDappId:void 0},onError:e=>{var r,t;if((null===(r=e.message)||void 0===r?void 0:r.includes("keyless_account"))||(null===(t=e.message)||void 0===t?void 0:t.includes("Groth16VerificationKey"))){console.warn("Keyless account feature not available on local network - this is expected");return}console.error("Wallet adapter error:",e)},children:r})}},4710:function(e,r,t){"use strict";t.d(r,{NetworkMismatchWarning:function(){return i}});var s=t(7437),a=t(2265),n=t(7693),l=t(108);function i(){let{connected:e,network:r}=(0,n.Os)(),[t,i]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{var t;if(!e){i(!1);return}let s="local"===l.IB,a=(null==r?void 0:null===(t=r.name)||void 0===t?void 0:t.toLowerCase())||"";s&&("mainnet"===a||"testnet"===a)?i(!0):i(!1)},[e,r]),t)?(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 bg-yellow-500 text-black px-4 py-3 shadow-lg",children:(0,s.jsxs)("div",{className:"container mx-auto flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 text-2xl",children:"⚠️"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-1",children:"Network Mismatch Detected"}),(0,s.jsxs)("p",{className:"text-sm mb-2",children:["Your wallet is connected to ",(0,s.jsx)("strong",{children:(null==r?void 0:r.name)||"Mainnet"}),", but this app is configured for ",(0,s.jsx)("strong",{children:"Local Network"}),'. Transactions will fail with "Module not found" errors.']}),(0,s.jsxs)("details",{className:"text-xs bg-yellow-600 bg-opacity-20 p-2 rounded",children:[(0,s.jsx)("summary",{className:"cursor-pointer font-semibold mb-1",children:"How to fix this (Click to expand)"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[(0,s.jsx)("li",{children:"Open your Petra wallet extension"}),(0,s.jsxs)("li",{children:['Click the network dropdown (currently showing "',(null==r?void 0:r.name)||"Mainnet",'")']}),(0,s.jsx)("li",{children:'Select "Settings" → "Network"'}),(0,s.jsxs)("li",{children:["Add a custom network:",(0,s.jsxs)("ul",{className:"list-disc list-inside ml-4 mt-1",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Name:"})," Local Aptos Node"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"RPC URL:"})," http://localhost:8080"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Chain ID:"})," 4"]})]})]}),(0,s.jsx)("li",{children:'Switch to the "Local Aptos Node" network'}),(0,s.jsx)("li",{children:"Refresh this page"})]})]})]}),(0,s.jsx)("button",{onClick:()=>i(!1),className:"flex-shrink-0 text-xl font-bold hover:text-red-700","aria-label":"Dismiss warning",children:"✕"})]})}):null}},108:function(e,r,t){"use strict";t.d(r,{IB:function(){return a},OI:function(){return d},VB:function(){return i},n2:function(){return l},pR:function(){return o}});var s=t(357);let a="testnet",n="0x9f10b1c09f496745b7c56c82d6648dcb2c5de24ffc95e39aec8b32a655b42d51",l=s.env.NEXT_PUBLIC_APTOS_API_KEY,i={USER_PROFILE:"".concat(n,"::user_profile"),PRODUCT:"".concat(n,"::product"),ORDER:"".concat(n,"::order"),ESCROW:"".concat(n,"::escrow")},o={BUYER:1,SELLER:2},d={maxGasAmount:2e5,gasUnitPrice:100}},2752:function(e,r,t){"use strict";t.d(r,{lV:function(){return l}});var s=t(1409),a=t(108);let n=new s.ScN("local"===a.IB?{network:"custom",fullnode:"http://localhost:8080",faucet:"http://localhost:8081"}:{network:a.IB,...a.n2&&{clientConfig:{API_KEY:a.n2}}}),l=new s.gZG(n)},4516:function(e,r,t){"use strict";t.d(r,{sS:function(){return f},Gn:function(){return p},Gr:function(){return b}});var s=t(5118),a=t(3191),n=t(5524),l=t(7693),i=t(7776),o=t(108),d=t(2752);let c=e=>{let r=(e.startsWith("0x")?e.slice(2):e).padStart(64,"0");return"0x".concat(r)},x=e=>{let{name:r,country:t,role:s,email:a,address:n,bio:l}=e;return{data:{function:"".concat(o.VB.USER_PROFILE,"::register_profile"),functionArguments:[r,t,s,a,n,l]},options:o.OI}},u=e=>{let{profileAddress:r,name:t,country:s,email:a,address:n,bio:l}=e;return{data:{function:"".concat(o.VB.USER_PROFILE,"::update_profile"),functionArguments:[c(r),t||"",s||"",a||"",n||"",l||""]},options:o.OI}},m=async e=>{try{let r=await d.lV.view({payload:{function:"".concat(o.VB.USER_PROFILE,"::get_profile"),functionArguments:[c(e)]}});if(!r||0===r.length)return null;let t=r[0];return{name:t.name,walletAddress:t.wallet_address,country:t.country,role:t.role,email:t.email,physicalAddress:t.physical_address,bio:t.bio,createdAt:"string"==typeof t.created_at?parseInt(t.created_at):t.created_at,updatedAt:"string"==typeof t.updated_at?parseInt(t.updated_at):t.updated_at,isActive:t.is_active}}catch(e){return console.error("Error fetching user profile:",e),null}},h=e=>{let r=e.startsWith("0x")?e.slice(2):e;return"0x".concat(r.padStart(64,"0"))},g={all:["profile"],detail:e=>[...g.all,"detail",e],isBuyer:e=>[...g.all,"isBuyer",e],isSeller:e=>[...g.all,"isSeller",e],isActive:e=>[...g.all,"isActive",e],details:e=>[...g.all,"details",e]},b=function(e){var r;let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{account:a}=(0,l.Os)(),n=e||(null==a?void 0:null===(r=a.address)||void 0===r?void 0:r.toString()),i=n?h(n):void 0;return(0,s.a)({queryKey:g.detail(i||""),queryFn:()=>m(i),enabled:t&&!!i,staleTime:3e5})},f=()=>{let e=(0,a.NL)(),{account:r,signAndSubmitTransaction:t}=(0,l.Os)();return(0,n.D)({mutationFn:async e=>{if(!r)throw Error("Wallet not connected");try{let r=x(e);return await t(r)}catch(e){var s,a;if((null===(s=e.message)||void 0===s?void 0:s.includes("keyless_account"))||(null===(a=e.message)||void 0===a?void 0:a.includes("Groth16VerificationKey")))throw Error("Local network configuration issue. Please ensure your Petra wallet is connected to the correct network (Devnet or Testnet) for development.");throw e}},onSuccess:()=>{if(null==r?void 0:r.address){let t=h(r.address.toString());e.invalidateQueries({queryKey:g.detail(t)}),e.invalidateQueries({queryKey:g.all})}i.Am.success("Profile registered successfully!")},onError:e=>{i.Am.error(e.message||"Failed to register profile"),console.error("Register profile error:",e)}})},p=()=>{let e=(0,a.NL)(),{account:r,signAndSubmitTransaction:t}=(0,l.Os)();return(0,n.D)({mutationFn:async e=>{if(!r)throw Error("Wallet not connected");let s=u(e);return await t(s)},onSuccess:(r,t)=>{let s=h(t.profileAddress);e.invalidateQueries({queryKey:g.detail(s)}),i.Am.success("Profile updated successfully!")},onError:e=>{i.Am.error(e.message||"Failed to update profile"),console.error("Update profile error:",e)}})}},5984:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return o},a:function(){return d}});var s=t(7437),a=t(2265),n=t(7693),l=t(4516);let i=(0,a.createContext)(void 0);function o(e){var r;let{children:t}=e,{account:a,connected:o}=(0,n.Os)(),d=null==a?void 0:null===(r=a.address)||void 0===r?void 0:r.toString(),{data:c,isLoading:x}=(0,l.Gr)(d);return(0,s.jsx)(i.Provider,{value:{address:d||null,isConnected:o,isLoading:x,isAuthenticated:o&&!!c,userProfile:c||null},children:t})}function d(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1658:function(e,r,t){"use strict";t.d(r,{QueryProvider:function(){return o}});var s=t(7437),a=t(6094),n=t(3191),l=t(9839),i=t(2265);function o(e){let{children:r}=e,[t]=(0,i.useState)(()=>new a.S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1,retry:1},mutations:{retry:1}}}));return(0,s.jsxs)(n.aH,{client:t,children:[r,(0,s.jsx)(l.t,{initialIsOpen:!1})]})}},9354:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(4839),a=t(6164);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}},3054:function(){}},function(e){e.O(0,[42,664,213,737,138,57,971,23,744],function(){return e(e.s=3103)}),_N_E=e.O()}]);